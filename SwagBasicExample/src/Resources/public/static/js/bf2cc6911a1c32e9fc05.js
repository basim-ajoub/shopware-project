(window["webpackJsonpPluginswag-basic-example"]=window["webpackJsonpPluginswag-basic-example"]||[]).push([[770],{671:function(){},770:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}}),n(287);let{Mixin:r}=Shopware,{Criteria:s,EntityCollection:o}=Shopware.Data;var c={template:'\r\n{% block sw_cms_element_test_product_slider_config %}\r\n    <div class="sw-cms-el-config-test-product-slider">\r\n        \r\n        {% block sw_cms_element_test_product_slider_config_tabs %}\r\n            <sw-tabs\r\n                    position-identifier="sw-cms-element-config-test-product-slider"\r\n                    class="sw-cms-el-config-test-product-slider__tabs"\r\n                    default-item="content"\r\n            >\r\n                <template #default="{ active }">\r\n                    \r\n                    {% block sw_cms_element_test_product_slider_config_tab_content %}\r\n                        <sw-tabs-item\r\n                                :title="$tc(\'sw-cms.elements.general.config.tab.content\')"\r\n                                name="content"\r\n                                :active-tab="active"\r\n                        >\r\n                            {{ $tc(\'sw-cms.elements.general.config.tab.content\') }}\r\n                        </sw-tabs-item>\r\n                    {% endblock %}\r\n                    \r\n                    {% block sw_cms_element_test_product_slider_config_tab_options %}\r\n                        <sw-tabs-item\r\n                                :title="$tc(\'sw-cms.elements.general.config.tab.settings\')"\r\n                                name="settings"\r\n                                :active-tab="active"\r\n                        >\r\n                            {{ $tc(\'sw-cms.elements.general.config.tab.settings\') }}\r\n                        </sw-tabs-item>\r\n                    {% endblock %}\r\n\r\n                    {% block sw_cms_element_test_product_slider_config_tab_custom %}\r\n                        <sw-tabs-item\r\n                                :title="$tc(\'sw-cms.elements.general.config.tab.custom\')"\r\n                                name="custom"\r\n                                :active-tab="active"\r\n                        >\r\n                            {{ $tc(\'sw-cms.elements.general.config.tab.custom\') }}\r\n                        </sw-tabs-item>\r\n                    {% endblock %}\r\n                </template>\r\n\r\n                <template\r\n                        #content="{ active }"\r\n                >\r\n                    \r\n                    {% block sw_cms_element_test_product_slider_config_content %}\r\n                        <sw-container\r\n                                v-if="active === \'content\'"\r\n                                class="sw-cms-el-config-test-product-slider__tab-content"\r\n                        >\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_content_title %}\r\n                                <sw-text-field\r\n                                        v-model:value="element.config.title.value"\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.title\')"\r\n                                        :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.title\')"\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_content_product_assignment_type %}\r\n                                <sw-single-select\r\n                                        v-model:value="element.config.products.source"\r\n                                        class="sw-cms-el-config-test-product-slider__product-assignment-type-select"\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.productAssignmentType\')"\r\n                                        :options="productAssignmentTypes"\r\n                                        show-clearable-button\r\n                                        @update:value="onChangeAssignmentType"\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            <template v-if="element.config.products.source === \'product_stream\'">\r\n                                \r\n                                {% block sw_cms_element_test_product_slider_config_content_product_stream_select %}\r\n                                    <sw-entity-single-select\r\n                                            v-model:value="element.config.products.value"\r\n                                            entity="product_stream"\r\n                                            class="sw-cms-el-config-test-product-slider__product-stream-select"\r\n                                            :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamChoice\')"\r\n                                            :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamChoice\')"\r\n                                            show-clearable-button\r\n                                            @update:value="onChangeProductStream"\r\n                                    />\r\n                                {% endblock %}\r\n\r\n                                \r\n                                {% block sw_cms_element_test_product_slider_config_content_product_stream_performance_hint %}\r\n                                    <sw-alert\r\n                                            class="sw-cms-el-config-test-product-slider__product-stream-performance-hint"\r\n                                            variant="info"\r\n                                    >\r\n                                        {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPerformanceHint\') }}\r\n                                    </sw-alert>\r\n                                {% endblock %}\r\n\r\n                                <sw-product-stream-modal-preview\r\n                                        v-if="showProductStreamPreview"\r\n                                        :filters="productStream.apiFilter"\r\n                                        :default-limit="element.config.productStreamLimit.value"\r\n                                        :default-sorting="element.config.productStreamSorting.value"\r\n                                        @modal-close="onCloseProductStreamModal"\r\n                                />\r\n\r\n                                <sw-container\r\n                                        columns="1fr 1fr"\r\n                                        gap="30px"\r\n                                >\r\n                                    \r\n                                    {% block sw_cms_element_test_product_slider_config_content_product_stream_sorting %}\r\n                                        <sw-single-select\r\n                                                v-model:value="element.config.productStreamSorting.value"\r\n                                                :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamSorting\')"\r\n                                                class="sw-cms-el-config-test-product-slider__product-stream-sorting"\r\n                                                :disabled="!productStream"\r\n                                                :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamSorting\')"\r\n                                                :options="productStreamSortingOptions"\r\n                                                show-clearable-button\r\n                                        />\r\n                                    {% endblock %}\r\n\r\n                                    \r\n                                    {% block sw_cms_element_test_product_slider_config_content_product_stream_limit %}\r\n                                        <sw-number-field\r\n                                                v-model:value="element.config.productStreamLimit.value"\r\n                                                :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamLimit\')"\r\n                                                class="sw-cms-el-config-test-product-slider__product-stream-limit"\r\n                                                :disabled="!productStream"\r\n                                                :min="1"\r\n                                        />\r\n                                    {% endblock %}\r\n                                </sw-container>\r\n\r\n                                \r\n                                {% block sw_cms_element_test_product_slider_config_content_product_stream_preview_link %}\r\n                                    <div class="sw-cms-el-config-test-product-slider__product-stream-preview-link-container">\r\n                                        <a\r\n                                                class="sw-cms-el-config-test-product-slider__product-stream-preview-link link"\r\n                                                :class="{ \'is--disabled\': !productStream }"\r\n                                                href="#"\r\n                                                @click.prevent="onClickProductStreamPreview"\r\n                                        >\r\n                                            {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPreviewLink\') }}\r\n                                            <sw-icon\r\n                                                    name="regular-long-arrow-right"\r\n                                                    small\r\n                                            />\r\n                                        </a>\r\n                                    </div>\r\n                                {% endblock %}\r\n                            </template>\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_content_products %}\r\n                                <sw-entity-multi-select\r\n                                        v-else\r\n                                        v-model:entityCollection="productCollection"\r\n                                        class="sw-cms-el-config-test-product-slider__products"\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.selection\')"\r\n                                        :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.selection\')"\r\n                                        :context="productMultiSelectContext"\r\n                                        :criteria="productMediaFilter"\r\n                                        @update:entity-collection="onProductsChange"\r\n                                >\r\n                                    <template #selection-label-property="{ item }">\r\n                                        <sw-product-variant-info\r\n                                                :variations="item.variation"\r\n                                        >\r\n                                            {{ item.translated.name || item.name }}\r\n                                        </sw-product-variant-info>\r\n                                    </template>\r\n                                    <template #result-item="{ item, index }">\r\n                                        <slot\r\n                                                name="result-item"\r\n                                                v-bind="{ item, index }"\r\n                                        >\r\n                                            <sw-select-result\r\n                                                    v-bind="{ item, index, selected: isSelected(item.id)}"\r\n                                            >\r\n                                                \r\n                                                {% block sw_entity_single_select_base_results_list_result_label %}\r\n                                                    <span class="sw-select-result__result-item-text">\r\n                                    <sw-product-variant-info\r\n                                            :variations="item.variation"\r\n                                    >\r\n                                        {{ item.translated.name || item.name }}\r\n                                    </sw-product-variant-info>\r\n                                </span>\r\n                                                {% endblock %}\r\n                                            </sw-select-result>\r\n                                        </slot>\r\n                                    </template>\r\n                                </sw-entity-multi-select>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n                    {% endblock %}\r\n\r\n                    \r\n                    {% block sw_cms_element_test_product_slider_config_settings %}\r\n                        <sw-container\r\n                                v-if="active === \'settings\'"\r\n                                class="sw-cms-el-config-test-product-slider__tab-settings"\r\n                        >\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_display_mode %}\r\n                                <sw-select-field\r\n                                        v-model:value="element.config.displayMode.value"\r\n                                        :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\r\n                                >\r\n                                    <option value="standard">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}\r\n                                    </option>\r\n                                    <option value="cover">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeCover\') }}\r\n                                    </option>\r\n                                    <option value="contain">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeContain\') }}\r\n                                    </option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_vertical_align %}\r\n                                <sw-select-field\r\n                                        v-model:value="element.config.verticalAlign.value"\r\n                                        :label="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\r\n                                        :placeholder="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\r\n                                >\r\n                                    <option value="flex-start">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignTop\') }}\r\n                                    </option>\r\n                                    <option value="center">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignCenter\') }}\r\n                                    </option>\r\n                                    <option value="flex-end">\r\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignBottom\') }}\r\n                                    </option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_box_layout %}\r\n                                <sw-select-field\r\n                                        v-model:value="element.config.boxLayout.value"\r\n                                        :label="$tc(\'sw-cms.elements.productBox.config.label.layoutType\')"\r\n                                >\r\n                                    <option value="standard">\r\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeStandard\') }}\r\n                                    </option>\r\n                                    <option value="image">\r\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeImage\') }}\r\n                                    </option>\r\n                                    <option value="minimal">\r\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeMinimal\') }}\r\n                                    </option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_navigation %}\r\n                                <sw-switch-field\r\n                                        v-model:value="element.config.navigation.value"\r\n                                        bordered\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.navigation\')"\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_rotate %}\r\n                                <sw-switch-field\r\n                                        v-model:value="element.config.rotate.value"\r\n                                        bordered\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.rotate\')"\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_border %}\r\n                                <sw-switch-field\r\n                                        v-model:value="element.config.border.value"\r\n                                        bordered\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.border\')"\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_settings_min_width %}\r\n                                <sw-text-field\r\n                                        v-model:value="element.config.elMinWidth.value"\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.minWidth\')"\r\n                                        :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.minWidth\')"\r\n                                />\r\n                            {% endblock %}\r\n                        </sw-container>\r\n                    {% endblock %}\r\n\r\n                    {% block sw_cms_element_test_product_slider_config_custom %}\r\n                        <sw-container\r\n                                v-if="active === \'custom\'"\r\n                                class="sw-cms-el-config-test-product-slider__tab-settings"\r\n                        >\r\n\r\n\r\n\r\n                            \r\n                            {% block sw_cms_element_test_product_slider_config_custom_color %}\r\n                                <sw-colorpicker\r\n                                        v-model:value="element.config.color.value"\r\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.color\')"\r\n                                />\r\n                            {% endblock %}\r\n         </sw-container>\r\n                    {% endblock %}\r\n                </template>\r\n            </sw-tabs>\r\n        {% endblock %}\r\n    </div>\r\n{% endblock %}',compatConfig:Shopware.compatConfig,inject:["repositoryFactory","feature"],mixins:[r.getByName("cms-element")],data(){return{productCollection:null,productStream:null,showProductStreamPreview:!1,tempProductIds:[],tempStreamId:null}},computed:{productRepository(){return this.repositoryFactory.create("product")},productStreamRepository(){return this.repositoryFactory.create("product_stream")},products(){return this.element?.data?.products&&this.element.data.products.length>0?this.element.data.products:null},productMediaFilter(){let e=new s(1,25);return e.addAssociation("cover"),e.addAssociation("options.group"),e},productMultiSelectContext(){let e={...Shopware.Context.api};return e.inheritance=!0,e},productAssignmentTypes(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.manual"),value:"static"},{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.productStream"),value:"product_stream"}]},productStreamSortingOptions(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameAsc"),value:"name:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameDesc"),value:"name:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateAsc"),value:"createdAt:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateDesc"),value:"createdAt:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.random"),value:"random"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceAsc"),value:"cheapestPrice:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceDesc"),value:"cheapestPrice:DESC"}]}},created(){this.createdComponent()},methods:{createdComponent(){if(this.initElementConfig("product-slider"),this.productCollection=new o("/product","product",Shopware.Context.api),!(this.element.config.products.value.length<=0)){if("product_stream"===this.element.config.products.source)this.loadProductStream();else{let e=new s(1,100);e.addAssociation("cover"),e.addAssociation("options.group"),e.setIds(this.element.config.products.value),this.productRepository.search(e,{...Shopware.Context.api,inheritance:!0}).then(e=>{this.productCollection=e})}}},onChangeAssignmentType(e){"product_stream"===e?(this.tempProductIds=this.element.config.products.value,this.element.config.products.value=this.tempStreamId):(this.tempStreamId=this.element.config.products.value,this.element.config.products.value=this.tempProductIds)},loadProductStream(){this.productStreamRepository.get(this.element.config.products.value,Shopware.Context.api,new s(1,25)).then(e=>{this.productStream=e})},onChangeProductStream(e){if(null===e){this.productStream=null;return}this.loadProductStream()},onClickProductStreamPreview(){null!==this.productStream&&(this.showProductStreamPreview=!0)},onCloseProductStreamModal(){this.showProductStreamPreview=!1},onProductsChange(){this.element.config.products.value=this.productCollection.getIds(),this.element?.data&&(this.isCompatEnabled("INSTANCE_SET")?this.$set(this.element.data,"products",this.productCollection):this.element.data.products=this.productCollection)},isSelected(e){return this.productCollection.has(e)}}}},287:function(e,t,n){var r=n(671);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),n(346).Z("6f490310",r,!0,{})}}]);